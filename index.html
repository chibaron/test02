<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>STM32 Debug Flasher</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #2c3e50; color: white; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: #34495e; padding: 20px; border-radius: 10px; }
        .controls { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; align-items: center; }
        #log { 
            width: 100%; height: 450px; background: #1e1e1e; color: #00ff00; 
            padding: 10px; font-family: 'Consolas', monospace; overflow-y: scroll; 
            white-space: pre-wrap; border: 1px solid #555; font-size: 12px;
        }
        .tx { color: #5dade2; } /* 送信データの色 */
        .rx { color: #f4d03f; } /* 受信データの色 */
        .err { color: #e74c3c; font-weight: bold; }
        .success { color: #2ecc71; font-weight: bold; }
        button { padding: 10px 20px; cursor: pointer; border: none; border-radius: 5px; background: #2980b9; color: white; font-weight: bold; }
        button:disabled { background: #7f8c8d; }
        input[type="file"] { background: #ecf0f1; padding: 5px; border-radius: 5px; color: #333; }
    </style>
</head>
<body>
    <div class="container">
        <h2>STM32 UART Web Flasher (Debug Mode)</h2>
        <div class="controls">
            <input type="file" id="hexFile" accept=".hex">
            <button id="connectBtn">① ポート選択</button>
            <button id="flashBtn" disabled>② 書き込み開始</button>
            <button id="clearLogBtn" style="background:#e67e22;">ログ消去</button>
        </div>
        <div id="log"></div>
    </div>
    <script src="app.js"></script>
</body>
</html>

